%!TEX root = ../index.tex

Der Markt für Tools welche die Qualitätssicherung von Softwareprojekten unterstützt ist ziemlich gross. Anhand der Fehlerszenarios welche nicht durch ein bestehendes System abgedeckt werden können die zu evaluierenden Tools stark eingegrenzt werden. So ist zum Beispiel kein Tool welches den Programmcode mittels statischer Analyse bewertet notwendig, da eine solche Analyse bereits in \ref{b:precommithook} durchgeführt wird. Um die offenen Fehlerszenarios abzudecken wurde in den Bereichen Monitoring und Continuous Integration nach geeigneten Lösungen gesucht.

\section{Monitoring}
\label{sec:monitoring_evaluation}
Eine grosse Zahl an Produkten existiert mit welchen man eine Webapplikation in regelmässigen Abständen überprüfen kann. Viele Produkte greifen nur von ausserhalb auf die Webapplikaiton und benachrichtigen falls diese nicht wie zuvor definiert verfügbar sein sollte. Einige Tools setzen jedoch bereits in der Applikation an und können da auch die Zeit welche eine Applikation für eine Anfrage braucht, oder die Menge und der Zeitbedarf von Datenbankabfragen messen. Ein Real User Monitoring welches direkt im Browser des Benutzers läuft, berücksichtigt zusätzlich die Geschwindigkeit der Internet-Verbindung und den verwendeten Browser.

\ref{f:zertifikatausgelaufen}, \ref{f:zertifikatungultig}, \ref{f:sslnichterzwungen}, \ref{f:externeassetsohnessl}, \ref{f:domainausgelaufen}, \ref{f:dnsservernichtverfuegbar}, \ref{f:dnseintragfehlerhaft}, \ref{f:spfeintragfehlerhaft}, \ref{f:deprecatedlibraries}, \ref{f:debugmodus}, \ref{f:datenbankquerieslaufenlangsam}, \ref{f:applikationlaeuftlangsam}, \ref{f:seitelaedtzulangsam}, \ref{f:assetsfehlen}, \ref{f:externeabhaengigkeiten}, \ref{f:seiteenthaelttotelinks}

\subsection{Marktanalyse}
\label{sub:marktanalyse}

\subsubsection{Sillalive}
\label{ssub:sillalive}

\begin{table}[H]
  \centering
  \begin{tabular}{p{5cm} p{7cm}}
  \toprule
    Webseite & \url{https://stillalive.com/}\\
  \hline
    Preisplan & Startup\\
  \hline
    Preismodell & 15\$ pro Seite pro Monat pro Webseite\\
  \hline
    Jährliche Kosten & 18000\$\\
  \hline
    Erfüllte Anforderungen & \ref{a:einfach_implementierbar}, \ref{a:aufwand}, \ref{a:sicherheit}, \ref{a:hosting}\\
  \hline
    Abgedeckte Fehlerszenarios & Nicht evaluiert\\
  \bottomrule
  \end{tabular}
  \caption{Stillalive}
  \label{tab:stillalive}
\end{table}

Scheidet schon durch die hohen Kosten aus. Ist eher für Firmen welche eine einzige Webapplikation überwachen wollen geeignet.

\subsubsection{Newrelic}
\label{ssub:newrelic}

\begin{table}[H]
  \centering
  \begin{tabular}{p{5cm} p{7cm}}
  \toprule
    Webseite & \url{https://newrelic.com/}\\
  \hline
    Preisplan & Standard\\
  \hline
    Preismodell & 24\$ pro Monat pro Server\\
  \hline
    Jährliche Kosten & 1440\$\\
  \hline
    Erfüllte Anforderungen & \ref{a:einfach_implementierbar}, \ref{a:kosten}, \ref{a:aufwand}, \ref{a:sicherheit}, \ref{a:hosting}\\
  \hline
    Abgedeckte Fehlerszenarios & \ref{f:domainausgelaufen}, \ref{f:dnsservernichtverfuegbar}, \ref{f:dnseintragfehlerhaft}, \ref{f:applikationlaeuftlangsam}, \ref{f:seitelaedtzulangsam}\\
  \bottomrule
  \end{tabular}
  \caption{New Relic Standard}
  \label{tab:new_relic_standard}
\end{table}

\begin{table}[H]
  \centering
  \begin{tabular}{p{5cm} p{7cm}}
  \toprule
    Webseite & \url{https://newrelic.com/}\\
  \hline
    Preisplan & Enterprise\\
  \hline
    Preismodell & 149\$ pro Monat pro Server\\
  \hline
    Jährliche Kosten & 8940\$\\
  \hline
    Erfüllte Anforderungen & \ref{a:einfach_implementierbar}, \ref{a:kosten}, \ref{a:aufwand}, \ref{a:sicherheit}, \ref{a:hosting}\\
  \hline
    Abgedeckte Fehlerszenarios & \ref{f:externeassetsohnessl}, \ref{f:domainausgelaufen}, \ref{f:dnsservernichtverfuegbar}, \ref{f:dnseintragfehlerhaft}, \ref{f:datenbankquerieslaufenlangsam}, \ref{f:applikationlaeuftlangsam}, \ref{f:seitelaedtzulangsam}, \ref{f:assetsfehlen}, \ref{f:externeabhaengigkeiten}\\
  \bottomrule
  \end{tabular}
  \caption{New Relic Enterprise}
  \label{tab:new_relic_enterprise}
\end{table}

New Relic kann eine Webapplikation mit einem Statistischen Profiler durchleuchten und somit einen Einblick in die laufende Applikation gewähren. Zusätzlich bietet es zentrales Errorreporting, Real User Monitoring und viele kleinere Tools.

\subsubsection{Pingdom}
\label{ssub:pingdom}

\begin{table}[H]
  \centering
  \begin{tabular}{p{5cm} p{7cm}}
  \toprule
    Webseite & \url{https://www.pingdom.com/}\\
  \hline
    Preisplan & Team\\
  \hline
    Preismodell & 495\$ pro Monat\\
  \hline
    Jährliche Kosten & 5940\$\\
  \hline
    Erfüllte Anforderungen & \ref{a:einfach_implementierbar}, \ref{a:kosten}, \ref{a:aufwand}, \ref{a:sicherheit}, \ref{a:hosting}\\
  \hline
    Abgedeckte Fehlerszenarios & \ref{f:zertifikatausgelaufen}, \ref{f:zertifikatungultig}, \ref{f:domainausgelaufen}, \ref{f:dnsservernichtverfuegbar}, \ref{f:dnseintragfehlerhaft}, \ref{f:seitelaedtzulangsam}, \ref{f:assetsfehlen}, \ref{f:externeabhaengigkeiten}, \ref{f:seiteenthaelttotelinks}\\
  \bottomrule
  \end{tabular}
  \caption{Pingdom}
  \label{tab:pingdom}
\end{table}

Für Firmen welche eine einzige Webseite oder Webapplikation entwickeln bietet sich Pingdom an. Es bietet neben einer Push Notification fähigen iOS Applikation auch Real User Monitoring.

\subsubsection{Status Cake}
\label{ssub:status_cake}

\begin{table}[H]
  \centering
  \begin{tabular}{p{5cm} p{7cm}}
  \toprule
    Webseite & \url{https://www.statuscake.com/}\\
  \hline
    Preisplan & Superior\\
  \hline
    Preismodell & 6.49£ pro Monat\\
  \hline
    Jährliche Kosten & 78£\\
  \hline
    Erfüllte Anforderungen & \ref{a:einfach_implementierbar}, \ref{a:kosten}, \ref{a:aufwand}, \ref{a:sicherheit}, \ref{a:hosting}\\
  \hline
    Abgedeckte Fehlerszenarios & \ref{f:zertifikatausgelaufen}, \ref{f:zertifikatungultig}, \ref{f:domainausgelaufen}, \ref{f:dnsservernichtverfuegbar}, \ref{f:dnseintragfehlerhaft}, \ref{f:seitelaedtzulangsam}, \ref{f:seiteenthaelttotelinks}\\
  \bottomrule
  \end{tabular}
  \caption{Status Cake}
  \label{tab:status_cake}
\end{table}

Status Cake bietet ziemlich viel wenn man den niedrigen Preis bedenkt. Im Preisplan Superior ist ein automatisiertes einfügen von neuen Webseiten welche zu testen sind möglich.

\subsubsection{Web on Duty}
\label{ssub:web_on_duty}

\begin{table}[H]
  \centering
  \begin{tabular}{p{5cm} p{7cm}}
  \toprule
    Webseite & \url{https://webonduty.com/}\\
  \hline
    Preisplan & Test jede Stunde\\
  \hline
    Preismodell & 36£ pro Monat\\
  \hline
    Jährliche Kosten & 432£\\
  \hline
    Erfüllte Anforderungen & \ref{a:einfach_implementierbar}, \ref{a:kosten}, \ref{a:aufwand}, \ref{a:sicherheit}, \ref{a:hosting}\\
  \hline
    Abgedeckte Fehlerszenarios & \ref{f:domainausgelaufen}, \ref{f:dnsservernichtverfuegbar}, \ref{f:dnseintragfehlerhaft}\\
  \bottomrule
  \end{tabular}
  \caption{Web on Duty}
  \label{tab:web_on_duty}
\end{table}

Web on Duty kann keine ungültige oder abgelaufene SSL-Zertifikate detektieren. Lässt man es eine Webseite mit einem ungültigen Zertifikat überprüfen meldet es keinen Fehler.

\subsection{Entscheid}
\label{sub:entscheid_monitoring}
Es lassen sich grundsätzlich alle automatisiert Testbaren Fehlerszenarios mit Eigenentwicklungen abdecken, der Aufwand um dies zu erreichen ist aber nicht verhältnismässig. Da nicht ein Produkt evaluiert wird, sondern eine Kombination aus mehreren, gibt es zu viele einzelne Kombinationen um auf jede mögliche einzugehen. Die möglichen Kombinationen wurden als mehrkriterieles Optimierungproblem angegangen. So wurden Lösungen welche von besseren Lösungen dominiert wurden ausgeschlossen und in der daraus entstehenden Lösungsmenge zwei mögliche Lösungen betrachtet.


Mit NewRelic standard und Status Cake bleiben folgende Punkte noch offen:

\ref{f:sslnichterzwungen}, \ref{f:externeassetsohnessl}, \ref{f:spfeintragfehlerhaft}, \ref{f:deprecatedlibraries}, \ref{f:debugmodus}, \ref{f:datenbankquerieslaufenlangsam}, \ref{f:applikationlaeuftlangsam}, \ref{f:assetsfehlen}, \ref{f:externeabhaengigkeiten}

Mit NewRelic enterprise und Status Cake und bleiben folgende Punkte noch offen:

\ref{f:sslnichterzwungen}, \ref{f:spfeintragfehlerhaft}, \ref{f:deprecatedlibraries}, \ref{f:debugmodus}

\section{Continuous Integration}
\label{sec:continuous_integration_evaluation}
Um das Fehlerszenario \ref{f:unittestfehler} automatisiert abzudecken wird ein System benötigt welches jeweils den aktuellen Programmcode automatisch überprüft. Es gibt diverse Continous Integration Lösungen welche sich für diese Aufgabe eignen. Bei Django Projekten sind die beiden CI Systeme Travis und Jenkins am weitesten verbreitet. Weiterhin wurde auch das in Python geschriebe Buildbot evaluiert.

\begin{enumerate}
  \item https://travis-ci.org
  \item http://buildbot.net
  \item http://jenkins-ci.org
\end{enumerate}

\subsection{Anforderungen}
\label{sub:anforderungen}
Da die allink nicht wie viele andere Benutzer eines CI Systems ein einziges Produkt entwickelt, sondern viele einzelne Projekte betreibt, ist nicht jedes System geeignet. Weiterhin soll auch hier gemäss Anforderung \ref{a:einfach_implementierbar} möglichst kein zusätzlicher Aufwand für jedes einzelne Projekt entstehen.

\subsection{Entscheid}
\label{sub:entscheid_ci}
Da die allink keinen eigenen CI Server betreiben will, kommen nur Systeme in Frage, welche auch als Service angeboten werden. Daher is Buildbot basiertes System für allink nicht geeignet.

Zu den zwei verbleibenden Systemen wurde jeweils ein günstiger Anbieter welcher dieses Produkt als Service anbietet gesucht um sicherzustellen, dass ein solcher vorhanden ist. So wurde für Travis welches Open Source ist, vom Hersteller auch für Business-Kunden angeboten. Dieser Service findet sich unter \url{https://travis-ci.com} und ist zur Zeit nur mit einer Einladung verfügbar. Jenkins ist bei \url{http://www.cloudbees.com/} als Service erhältlich.
 
Da in der allink zum Teil schon Erfahrungen mit dem Umgang mit Travis bestehen und dieser Service Anforderungen erfüllt, wurde in Absprache mit der Informatik Leitung in die Entscheidung gefällt, Travis zu verwenden.

\section{Ergebnis}
\label{sec:ergebnis}
Um alle Fehlerszenarios abzudecken müssen drei neue Systeme welche alle als Service angeboten werden bei allink eingeführt werden. Tabelle~\ref{tab:neue_systeme} zeigt eine Übersicht dieser neuen Systeme. Der allink.planer wird erweitert, so dass er die nicht durch diese neuen Systeme abgedeckten Fehlerszenarios welche aber automatisiert testbar sind abdecken kann.

\makeatletter
\newcounter{lnumber} \setcounter{lnumber}{0}
\renewcommand\thelnumber{L\arabic{lnumber}}
\newcommand{\newlnumber}[3]%
{%
\midrule%
\refstepcounter{lnumber}%
\expandafter\xdef\csname l#2\endcsname {#1}%
\thelnumber\label{l:#2} & #1 & #3 \\
}
\makeatother

\begin{table}[ht]
  \centering
  \begin{tabular}{l>{\raggedright} p{5cm} p{5cm}}
    \toprule \textbf{Nr.} & \textbf{Bezeichnung} & \textbf{Preismodell} \\
    \newlnumber{New Relic}{newrelic}{Enterprise}
    \newlnumber{StatusCake}{statuscake}{Superior}
    \newlnumber{Travis}{travis}{Enterprise}
    \bottomrule
  \end{tabular}
  \caption{Neue Systeme}
  \label{tab:neue_systeme}
\end{table}
